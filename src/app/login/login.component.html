<!--Header-->
<page-header title='Log In'></page-header>
<div
  *ngIf="error"
  class="page-level-messages">
  <div
    class="alert alert-danger" 
    role="alert"><span class="glyphicon glyphicon-trash glyph"></span>
      {{error}}
  </div>
</div>

<div class="row">
  <form novalidate
    [formGroup]="loginForm" 
    (ngSubmit)="login(user)"
    class="col-md-2">
    <!-- Email -->
    <div 
      class="form-group" 
      [ngClass]="{'has-error':!loginForm.controls['email'].valid && loginForm.controls['email'].touched}">
      <label 
        class="sr-only" 
        for="email">Email
      </label>
      <input 
        class="form-control"
        placeholder="Email" 
        type="text" 
        id="email"
        [formControl]="loginForm.controls['email']"
        [(ngModel)]="user.email"
        ngModel
        required>
        <div 
          class="help-block"
          *ngIf="loginForm.controls['email'].hasError('required') && loginForm.controls['email'].touched">Email is required.
        </div>
    </div>
    <!-- Password -->
    <div 
      class="form-group" 
      [ngClass]="{'has-error':!loginForm.controls['password'].valid && loginForm.controls['password'].touched}">
      <label 
        class="sr-only" 
        for="password">Password
      </label>
      <input 
        class="form-control"
        placeholder="Password" 
        type="password" 
        id="password"
        [formControl]="loginForm.controls['password']"
        [(ngModel)]="user.password"
        required>
        <div 
          class="help-block"
          *ngIf="loginForm.controls['password'].hasError('required') && loginForm.controls['password'].touched">Email is required.
        </div>
    </div>
    <!-- Submit -->
    <div class="form-group">
      <button 
        type="submit" 
        class="btn btn-primary"
        routerLink="/dashboard"
        [disabled]="loading">Log In
      </button>
    </div>
    <!-- Forgot Password-->
    <div class="form-group">
      <a>Need help?</a>
    </div>
  </form>
</div>